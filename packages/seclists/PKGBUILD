# Maintainer: Camas Millar <camas at hotmail dot co dot uk>

pkgname=seclists
pkgver=2019.3
pkgrel=1
pkgdesc="SecLists is the security tester's companion. It's a collection of multiple types of lists used during security assessments, collected in one place."
arch=('any')
url="https://github.com/danielmiessler/SecLists"
license=('MIT')
options=('!strip')

source=("https://github.com/danielmiessler/SecLists/archive/2019.3.tar.gz")
sha256sums=('d3115fd105450979ce7bbec88544865ac6d9b241a8bae15b5e151536a627259c')

prepare() {
    cd "$srcdir/SecLists-$pkgver/Passwords/Leaked-Databases/"
    tar -xf "rockyou.txt.tar.gz"
}

package() {
    cd "$srcdir/SecLists-$pkgver"
    mkdir -p "${pkgdir}/usr/share/wordlists/${pkgname}"
    find . | grep ".txt$" | xargs -I{} cp --parents {} "${pkgdir}/usr/share/wordlists/${pkgname}/"
    install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
